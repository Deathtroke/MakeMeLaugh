[gd_scene load_steps=39 format=3 uid="uid://cik30de5gaaah"]

[ext_resource type="Script" path="res://scenes/ingame_scene.cs" id="1_nm24d"]
[ext_resource type="PackedScene" uid="uid://bkk87o2ooo6at" path="res://ui/overlays/fade_overlay.tscn" id="1_y6ebv"]
[ext_resource type="PackedScene" uid="uid://jyv4g54adkmo" path="res://ui/overlays/pause_overlay.tscn" id="3_8o178"]
[ext_resource type="Texture2D" uid="uid://c24lg1xop7er5" path="res://Art/Backgrounds/Keller_v01.png" id="3_526ob"]
[ext_resource type="Script" path="res://scenes/EnemyHandler.cs" id="4_bi5y1"]
[ext_resource type="PackedScene" uid="uid://dp1xb1hjnbmbq" path="res://scenes/enemy/rat.tscn" id="5_ye3yi"]
[ext_resource type="Resource" uid="uid://c6cm3nto2pu6s" path="res://Enemies/Rat/rat_enemy.tres" id="6_50a3p"]
[ext_resource type="PackedScene" uid="uid://cholt7mgdtne1" path="res://scenes/card_target_selector.tscn" id="6_h6lxg"]
[ext_resource type="FontFile" uid="uid://cop0sgm2lc3g2" path="res://fonts/Diamond Girl.ttf" id="6_lvise"]
[ext_resource type="PackedScene" uid="uid://bgdqsaq4ho2id" path="res://scenes/enemy/boar.tscn" id="7_6wjdb"]
[ext_resource type="Resource" uid="uid://3b3v0yyh05v1" path="res://Enemies/Boar/boarling_enemy.tres" id="8_6vbwq"]
[ext_resource type="PackedScene" uid="uid://bvnm0g75ps3oe" path="res://scenes/enemy/boarling.tscn" id="8_64mgo"]
[ext_resource type="Script" path="res://scenes/player/PlayerHandler.cs" id="8_n6jxw"]
[ext_resource type="Resource" uid="uid://dhqjkvbmvlgw3" path="res://Enemies/Boar/boar_enemy.tres" id="9_6t7l6"]
[ext_resource type="PackedScene" uid="uid://dpqlhgnorq17d" path="res://scenes/enemy/unicorn.tscn" id="9_kno7i"]
[ext_resource type="PackedScene" uid="uid://blqalc5dy2cpi" path="res://scenes/enemy/dragon.tscn" id="10_2bqku"]
[ext_resource type="Script" path="res://scenes/battle_ui.cs" id="10_js3df"]
[ext_resource type="PackedScene" uid="uid://dofh2fo2j0ugs" path="res://scenes/card_ui/ap_ui.tscn" id="10_va0fd"]
[ext_resource type="StyleBox" uid="uid://b1i37v1i014qh" path="res://scenes/card_ui/card_default.tres" id="11_1yrtb"]
[ext_resource type="Script" path="res://scenes/Hand.cs" id="11_5qo5d"]
[ext_resource type="PackedScene" uid="uid://cqcwnexwlgxix" path="res://scenes/enemy/desciple.tscn" id="11_6fa0o"]
[ext_resource type="PackedScene" uid="uid://cfdc0pla45nw" path="res://scenes/player/player.tscn" id="11_qr5ib"]
[ext_resource type="Resource" uid="uid://dnjhig0y707bh" path="res://Enemies/Unicorn/Unicorn.tres" id="12_5g8v1"]
[ext_resource type="StyleBox" uid="uid://debnulso2gr7b" path="res://scenes/card_ui/card_hover.tres" id="12_75hk3"]
[ext_resource type="PackedScene" uid="uid://4npaxhs7uv8g" path="res://scenes/enemy/god.tscn" id="12_kwedc"]
[ext_resource type="Resource" uid="uid://btbsbwjb01k1e" path="res://Characters/Player/Player.tres" id="12_vigc1"]
[ext_resource type="StyleBox" uid="uid://b4m5uw051k1rs" path="res://scenes/card_ui/card_drag.tres" id="13_aef2o"]
[ext_resource type="Resource" uid="uid://gehnr45m5ple" path="res://Enemies/Dragon/Dragon.tres" id="17_yifo5"]
[ext_resource type="Theme" uid="uid://d22mpqutkotsu" path="res://ui/theme.tres" id="22_knft7"]
[ext_resource type="Script" path="res://scenes/Speech.cs" id="25_2fcf4"]
[ext_resource type="Texture2D" uid="uid://gop2npstcloq" path="res://Art/Icons/Icons_Sprechblase_v01.png" id="26_i6mgs"]
[ext_resource type="AudioStream" uid="uid://cwdqytxigw8c4" path="res://music/Vicious.ogg" id="29_ts3ye"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_um5rq"]
size = Vector2(1922, 742)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_tqpet"]
bg_color = Color(0.47451, 0.541176, 0.407843, 1)
corner_radius_top_left = 30
corner_radius_top_right = 30
corner_radius_bottom_right = 30
corner_radius_bottom_left = 30

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_an87q"]
bg_color = Color(0.47451, 0.541176, 0.407843, 1)
border_width_left = 10
border_width_top = 10
border_color = Color(0.682353, 0.74902, 0.615686, 1)
border_blend = true
corner_radius_top_left = 30
corner_radius_top_right = 30
corner_radius_bottom_right = 30
corner_radius_bottom_left = 30

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qrnyx"]
bg_color = Color(0.607843, 0.678431, 0.541176, 1)
border_width_left = 10
border_width_top = 10
border_color = Color(0.686275, 0.752941, 0.619608, 1)
border_blend = true
corner_radius_top_left = 30
corner_radius_top_right = 30
corner_radius_bottom_right = 30
corner_radius_bottom_left = 30

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_665to"]
bg_color = Color(0.282353, 0.329412, 0.235294, 1)
border_width_right = 10
border_width_bottom = 10
border_color = Color(0.2, 0.239216, 0.160784, 1)
border_blend = true
corner_radius_top_left = 30
corner_radius_top_right = 30
corner_radius_bottom_right = 30
corner_radius_bottom_left = 30

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ehua1"]
bg_color = Color(0.47451, 0.541176, 0.407843, 1)
border_width_left = 10
border_width_top = 10
border_color = Color(0.682353, 0.74902, 0.615686, 1)
border_blend = true
corner_radius_top_left = 30
corner_radius_top_right = 30
corner_radius_bottom_right = 30
corner_radius_bottom_left = 30

[node name="IngameScene" type="Node2D"]
script = ExtResource("1_nm24d")
Char_stats = ExtResource("12_vigc1")
metadata/_edit_lock_ = true

[node name="Background" type="Sprite2D" parent="."]
texture = ExtResource("3_526ob")
centered = false
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Speech" type="Node2D" parent="." groups=["speechbubble"]]
visible = false
script = ExtResource("25_2fcf4")
_text_array = Array[String](["You're the reason baby gnomes cry!", "Ugh. What the hell is that all over your face? Oh...it's just your face!", "Do you have a pen? Well you'd better get back to it before the farmer knows you are missing!", "You look like you've blown a goat, I kid you not!", "Learn from your father's mistake, become a eunuch!", "Well, my time of not taking you seriously is coming to a middle!", "Very impressive, I think I'll hire you out for children's parties!", "You're like a gnome on stilts, real cute, but it's not working!", "I'd say you were a worthy opponent, but I once fought a flumph wielding a dandelion!", "If this fight gets any harder, I'll have to switch it up to folk music!", "I'm sorry, we were looking for an actual fight, have you seen one?", "If you are going to behave like a barbarian, you could at least learn to fight like one!", "There are more holes in your capabilities than in Dwarven cheese!Congratulations! You're a failure.", "At this rate, I will die from old age before you kill me.", "Trying to make the party laugh is supposed to be my job, not yours", "What smells worse than a goblin? Oh yeah, you!", "What's that smell? I thought breath weapons were supposed to come out of your mouth!", "Charisma was OBVIOUSLY your dump stat!", "You are a one dimensional character that lacks even a generic backstory!", "Whomever is willing to have sex with you, is just too lazy to jerk off!", "Somewhere out there is a tree, tirelessly producing oxygen so you can breathe. I think you owe it an apology!", "Believe in yourself because no one else does!"])

[node name="Blase" type="Sprite2D" parent="Speech"]
position = Vector2(653, 250)
scale = Vector2(0.519444, 0.519444)
texture = ExtResource("26_i6mgs")

[node name="Joke" type="RichTextLabel" parent="Speech" groups=["joketext"]]
offset_left = 686.0
offset_top = 162.0
offset_right = 1003.0
offset_bottom = 318.0
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_fonts/normal_font = ExtResource("6_lvise")
theme_override_font_sizes/normal_font_size = 30
text = "Test Text!"

[node name="CardRelease" type="Area2D" parent="."]
collision_layer = 2
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="CardRelease"]
position = Vector2(961, 371)
shape = SubResource("RectangleShape2D_um5rq")
metadata/_edit_lock_ = true

[node name="EnemyHandler1" type="Node2D" parent="."]
visible = false
script = ExtResource("4_bi5y1")

[node name="Rat" parent="EnemyHandler1" instance=ExtResource("5_ye3yi")]
position = Vector2(1559, 556)
Stats = ExtResource("6_50a3p")

[node name="Rat2" parent="EnemyHandler1" instance=ExtResource("5_ye3yi")]
position = Vector2(1229, 283)
Stats = ExtResource("6_50a3p")

[node name="EnemyHandler2" type="Node2D" parent="."]
visible = false
script = ExtResource("4_bi5y1")

[node name="Boar" parent="EnemyHandler2" instance=ExtResource("7_6wjdb")]
position = Vector2(1572, 489)
Stats = ExtResource("9_6t7l6")

[node name="Boarling" parent="EnemyHandler2" instance=ExtResource("8_64mgo")]
position = Vector2(1172, 543)
Stats = ExtResource("8_6vbwq")

[node name="EnemyHandler3" type="Node2D" parent="."]
visible = false
script = ExtResource("4_bi5y1")

[node name="Unicorn" parent="EnemyHandler3" instance=ExtResource("9_kno7i")]
position = Vector2(1379, 418)
Stats = ExtResource("12_5g8v1")

[node name="EnemyHandler4" type="Node2D" parent="."]
visible = false
script = ExtResource("4_bi5y1")

[node name="Dragon" parent="EnemyHandler4" instance=ExtResource("10_2bqku")]
position = Vector2(1242, 485)
Stats = ExtResource("17_yifo5")

[node name="EnemyHandler5" type="Node2D" parent="."]
visible = false
script = ExtResource("4_bi5y1")

[node name="Desciple" parent="EnemyHandler5" instance=ExtResource("11_6fa0o")]
position = Vector2(764, 542)
Stats = ExtResource("6_50a3p")

[node name="God" parent="EnemyHandler5" instance=ExtResource("12_kwedc")]
position = Vector2(1225, 436)
Stats = ExtResource("6_50a3p")

[node name="CardTargetSelector" parent="." instance=ExtResource("6_h6lxg")]

[node name="Player" parent="." instance=ExtResource("11_qr5ib")]
position = Vector2(392, 511)
Stats = ExtResource("12_vigc1")

[node name="PlayerHandler" type="Node" parent="." node_paths=PackedStringArray("hand") groups=["playerhandler"]]
script = ExtResource("8_n6jxw")
hand = NodePath("../BattleUI/Hand")

[node name="BattleUI" type="CanvasLayer" parent="." groups=["ui_layer"]]
script = ExtResource("10_js3df")
Character_stats = ExtResource("12_vigc1")

[node name="Hand" type="HBoxContainer" parent="BattleUI" groups=["hand"]]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -640.0
offset_top = -324.0
offset_right = 640.0
grow_horizontal = 2
grow_vertical = 0
alignment = 1
script = ExtResource("11_5qo5d")
Character_Stats = ExtResource("12_vigc1")
default_style = ExtResource("11_1yrtb")
hover_style = ExtResource("12_75hk3")
drag_style = ExtResource("13_aef2o")

[node name="APUI" parent="BattleUI" instance=ExtResource("10_va0fd")]
offset_left = 35.0
offset_top = -163.0
offset_right = 155.0
offset_bottom = -32.0
scale = Vector2(1, 1)
theme_type_variation = &"Ap"
theme_override_styles/panel = SubResource("StyleBoxFlat_tqpet")
char_stats = ExtResource("12_vigc1")

[node name="EndTurnButton" type="Button" parent="BattleUI"]
unique_name_in_owner = true
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -315.0
offset_top = -166.0
offset_right = -24.0
offset_bottom = -41.0
grow_horizontal = 0
grow_vertical = 0
theme = ExtResource("22_knft7")
theme_type_variation = &"EndTurn"
theme_override_font_sizes/font_size = 66
theme_override_styles/normal = SubResource("StyleBoxFlat_an87q")
theme_override_styles/hover = SubResource("StyleBoxFlat_qrnyx")
theme_override_styles/pressed = SubResource("StyleBoxFlat_665to")
theme_override_styles/focus = SubResource("StyleBoxFlat_ehua1")
text = "End Turn"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("29_ts3ye")
autoplay = true
bus = &"Music"

[node name="UI" type="CanvasLayer" parent="."]

[node name="FadeOverlay" parent="UI" instance=ExtResource("1_y6ebv")]
unique_name_in_owner = true
visible = false

[node name="PauseOverlay" parent="UI" instance=ExtResource("3_8o178")]
unique_name_in_owner = true
process_mode = 2
visible = false
